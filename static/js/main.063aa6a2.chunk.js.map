{"version":3,"sources":["login.js","register.js","detailsModal.js","todoListAll.js","api.js","index.js"],"names":["Login","onLogin","setJwtToken","isAuthenticated","history","useHistory","useForm","defaultValues","identifier","password","register","handleSubmit","className","onSubmit","data","fetch","method","headers","body","JSON","stringify","then","r","json","login","loginResponse","undefined","alert","token","push","required","maxLength","placeholder","type","value","to","id","Register","console","log","pattern","MapAllTasks","listDetails","onNameChange","useState","isDone","checked","setChecked","name","setName","onClick","title","onChange","ev","nameValue","target","DetailsModal","props","obj","details","onConfirmSave","nameList","setNameList","task","parse","tempTasksSublist","setTempTasksSublist","map","e","onClose","findElementByID","array","find","el","TodoListAll","onLogout","userData","setUserData","dateFormatter","outputDate","Date","day","toLocaleDateString","length","month","year","calculateCompleteUncompleteAllTasks","countAll","countIsDone","filter","search","setSearch","sortBy","setSortBy","showDetails","setShowDetails","setId","useEffect","accept","Authorization","response","catch","err","error","getLists","useCallback","Promise","res","visibleData","setVisibleData","Object","entries","item","toLowerCase","indexOf","sort","a","b","str1","toString","str2","href","published_at","App","jwtToken","StrictMode","exact","path","render","component","routerProps","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.063aa6a2.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n    Link, useHistory\r\n} from \"react-router-dom\";\r\nimport \"./login.css\";\r\n\r\n// -----move this later to api.js\r\nconst basePath = \"https://recruitment.ultimate.systems\";\r\n\r\nconst data0 = {\r\n\tidentifier: \"testUser55\",\r\n\tpassword: \"testUser15\",\r\n};\r\n\r\nfunction login(data) {\r\n\treturn fetch(`${basePath}/auth/local`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify(data),\r\n\t}).then((r) => r.json());\r\n}\r\n\r\n// ----- end of api.js\r\n\r\nexport default function Login({ onLogin, setJwtToken }) {\r\n\tlet isAuthenticated = false;\r\n\tlet history = useHistory();\r\n\tconst { register, handleSubmit } = useForm({\r\n\t\tdefaultValues: {\r\n\t\t\tidentifier: \"testUser55\",\r\n\t\t\tpassword: \"testUser15\",\r\n\t\t},\r\n\t});\r\n\tconst onSubmit = (data) => {\r\n\t\tlogin(data).then((loginResponse) => {\r\n\t\t\t// onLogin(loginResponse[\"jwt\"]); // from insomnia\r\n\r\n\t\t\tif (loginResponse[\"jwt\"] === undefined) {\r\n\t\t\t\tisAuthenticated = false;\r\n\t\t\t\talert(\"Login or password incorrect - try again\");\r\n\t\t\t\treturn isAuthenticated;\r\n\t\t\t} else {\r\n\t\t\t\tisAuthenticated = true;\r\n\t\t\t\t// hook use history\r\n\t\t\t\tconst token = loginResponse[\"jwt\"];\r\n\t\t\t\tsetJwtToken(token);\r\n\t\t\t\thistory.push(\"/todoListAll\");\r\n\t\t\t\treturn isAuthenticated;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\" \"}\r\n\t\t\t<div className=\"todoList\">ToDo-List</div>\r\n\t\t\t<div className=\"loginRegisterRectangle\">\r\n\t\t\t\t<div className=\"titleAccount\">Login</div>\r\n\t\t\t\t<div className=\"gridEmailPassword\">\r\n\t\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t{...register(\"identifier\", {\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmaxLength: 20,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tplaceholder=\"Email or Username\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t{...register(\"password\", {\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"submit\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tvalue=\"Login\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"or\">or</div>\r\n\t\t\t\t\t<Link to=\"/register\">\r\n\t\t\t\t\t\t<div id=\"createAccount\">create an account</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n\tconst { register, handleSubmit } = useForm();\r\n\tconst onSubmit = (data) => console.log(data);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"todoList\">ToDo-List</div>\r\n\t\t\t<div className=\"loginRegisterRectangle\">\r\n\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t<div className=\"goBack\">&lt;-</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"titleAccount\">Create new account</div>\r\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t{...register(\"username\", {\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmaxLength: 20,\r\n\t\t\t\t\t\t\tplaceholder: \"test\",\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t{...register(\"email\", {\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmaxLength: 20,\r\n\t\t\t\t\t\t\tplaceholder: \"test\",\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t{...register(\"password\", {\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tpattern: /^[A-Za-z]+$/i,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t{...register(\"passwordRepeat\", {\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tpattern: /^[A-Za-z]+$/i,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tplaceholder=\"Repeat password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"submit\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvalue=\"Create\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./detailsModal.css\";\r\n\r\nfunction MapAllTasks({ listDetails, onNameChange }) {\r\n\tconst [checked, setChecked] = useState(listDetails.isDone);\r\n\tconst [name, setName] = useState(listDetails.name);\r\n\treturn (\r\n\t\t<div className=\"oneTaskGrid\">\r\n\t\t\t<input\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tclassName=\"checkboxOneTask\"\r\n\t\t\t\tchecked={checked}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tlistDetails[0].isDone = !listDetails.isDone;\r\n\t\t\t\t\tsetChecked(listDetails.name);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"Task Name\"\r\n\t\t\t\tclassName=\"taskName\"\r\n\t\t\t\tvalue={name}\r\n\t\t\t\ttitle={listDetails.name}\r\n\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\tconst nameValue = ev.target.value;\r\n\t\t\t\t\tlistDetails.name = nameValue;\r\n\t\t\t\t\tonNameChange && onNameChange(nameValue);\r\n\t\t\t\t\tsetName(nameValue);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function deepcopy(obj) {\r\n\treturn JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\nexport default function DetailsModal(props) {\r\n\tconst { details, onConfirmSave } = props;\r\n\tconst [nameList, setNameList] = useState(props?.details?.name);\r\n\tconst [tempTasksSublist, setTempTasksSublist] = useState(\r\n\t\tdeepcopy(details.task)\r\n\t);\r\n\tif (!details) {\r\n\t\t// console.error(\"error\", props);\r\n\t\treturn <>Loading...</>;\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"overlayWindow\">\r\n\t\t\t<div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"newTaskInputBox\"\r\n\t\t\t\t\tplaceholder=\"list name\"\r\n\t\t\t\t\tvalue={nameList}\r\n\t\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\t\tsetNameList(ev.target.value);\r\n\t\t\t\t\t\tdetails.name = nameList;\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"horizontalLine\" />\r\n\t\t\t<div className=\"allTasks\">\r\n\t\t\t\t{tempTasksSublist.map((e) => (\r\n\t\t\t\t\t<MapAllTasks\r\n\t\t\t\t\t\tlistDetails={e}\r\n\t\t\t\t\t\tonNameChange={(name) => {\r\n\t\t\t\t\t\t\te.name = name;\r\n\t\t\t\t\t\t\tsetTempTasksSublist([...tempTasksSublist]);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"buttonCancelAdd\">\r\n\t\t\t\t<button className=\"cancelSmall\">CANCEL</button>\r\n\t\t\t\t<button className=\"addSmall\">ADD</button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"buttonCancelSave\">\r\n\t\t\t\t<button className=\"cancelBottom\" onClick={props.onClose}>\r\n\t\t\t\t\tCANCEL\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className=\"emptySpace\" />\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"saveBottom\"\r\n\t\t\t\t\tonClick={(ev) => onConfirmSave()}\r\n\t\t\t\t\ttitle={JSON.stringify(tempTasksSublist, null, 2)}\r\n\t\t\t\t>\r\n\t\t\t\t\tSAVE\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport { DetailsModal };\r\n\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getLists } from \"./api\";\r\nimport { DetailsModal } from \"./detailsModal\";\r\nimport \"./todoListAll.css\";\r\n\r\nfunction findElementByID(array, id) {\r\n\tconst elFound = array.find((el) => {\r\n\t\t// debugger;\r\n\t\treturn el[1].id == id;\r\n\t});\r\n\treturn elFound[1];\r\n}\r\n\r\nexport default function TodoListAll({ token, onLogout }) {\r\n\t// replace this when fetch will be implemented\r\n\tconst [userData, setUserData] = useState([]);\r\n\t// const userData = mockData;\r\n\t// end of comment\r\n\r\n\tfunction dateFormatter(e) {\r\n\t\tlet outputDate = new Date(Date.parse(e));\r\n\t\tlet day = outputDate.toLocaleDateString(\"pl-PL\", { day: \"numeric\" });\r\n\t\tday = day.length !== 1 ? day : \"0\" + day;\r\n\t\tlet month = outputDate.toLocaleDateString(\"pl-PL\", {\r\n\t\t\tmonth: \"numeric\",\r\n\t\t});\r\n\t\tmonth = month.length !== 1 ? month : \"0\" + month;\r\n\t\tlet year = outputDate.toLocaleDateString(\"pl-PL\", { year: \"numeric\" });\r\n\t\tlet outputDateFormatted = day + \"-\" + month + \"-\" + year;\r\n\t\treturn outputDateFormatted;\r\n\t}\r\n\r\n\tfunction calculateCompleteUncompleteAllTasks(e) {\r\n\t\tlet countAll = e.length;\r\n\t\tlet countIsDone = e.filter((value) => value.isDone === true).length;\r\n\t\tlet countIsNotDone = countAll - countIsDone;\r\n\t\treturn (\r\n\t\t\t\"Completed: \" +\r\n\t\t\tcountIsDone +\r\n\t\t\t\" Uncompleted: \" +\r\n\t\t\tcountIsNotDone +\r\n\t\t\t\" All: \" +\r\n\t\t\tcountAll\r\n\t\t);\r\n\t}\r\n\r\n\tconst { register, handleSubmit } = useForm();\r\n\tconst [search, setSearch] = useState(\"\");\r\n\tconst [sortBy, setSortBy] = useState(0);\r\n\tconst [listDetails, setListDetails] = useState(\"\");\r\n\tconst [showDetails, setShowDetails] = useState(false);\r\n\tconst [id, setId] = useState(\"\");\r\n\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst Udata = getLists(token); // dodac await i linjka wyzej bedzie juz console.log(Udata)\r\n\t\tUdata.then((response) => {\r\n\t\t\tsetUserData(response);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token === \"\") {\r\n\t\t\thistory.push(\"login\");\r\n\t\t}\r\n\t}, [token]);\r\n\r\n\tconst data = useCallback(() => {\r\n\t\treturn new Promise((res) => {\r\n\t\t\tconst auth = token;\r\n\t\t\t// api.getTodos(token)\r\n\t\t\treturn [{}, {}];\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst [visibleData, setVisibleData] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst data = Object.entries(userData)\r\n\t\t\t.filter((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\titem[1].name.toLowerCase().indexOf(search.toLowerCase()) >=\r\n\t\t\t\t\t0\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst str1 = a[1].name.toString();\r\n\t\t\t\tconst str2 = b[1].name.toString();\r\n\t\t\t\tif (str1 === str2 || sortBy === 0) return 0;\r\n\t\t\t\treturn (str1 > str2 ? 1 : -1) * sortBy;\r\n\t\t\t});\r\n\t\tsetVisibleData(data);\r\n\t}, [userData, search, sortBy]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"todoList\">ToDo-List</div>\r\n\t\t\t<a\r\n\t\t\t\thref=\"#\"\r\n\t\t\t\tclassName=\"logout\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tonLogout();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tlogout\r\n\t\t\t</a>\r\n\t\t\t<div className=\"maxWidthList\">\r\n\t\t\t\t<input\r\n\t\t\t\t\t{...register(\"search\", {})}\r\n\t\t\t\t\tplaceholder=\"Search...\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"searchInput\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<select\r\n\t\t\t\t\tid=\"sortBy\"\r\n\t\t\t\t\tclassName=\"dropdown\"\r\n\t\t\t\t\tonChange={(e) => setSortBy(e.target.value)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value={0}>Unordered</option>\r\n\t\t\t\t\t<option value={1}>A-&gt;Z alphabetical</option>\r\n\t\t\t\t\t<option value={-1}>Z-&gt;A</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<div className=\"text-white mt-44 \">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{visibleData.map((item) => (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetShowDetails(true);\r\n\t\t\t\t\t\t\t\t\t\tsetId(item[1].id);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"gridInside\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"listName\">\r\n\t\t\t\t\t\t\t\t\t\t\t{item[1].name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"createdAt\">\r\n\t\t\t\t\t\t\t\t\t\t\tCreated at:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{dateFormatter(\r\n\t\t\t\t\t\t\t\t\t\t\t\titem[1].published_at\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"counter\">\r\n\t\t\t\t\t\t\t\t\t\t\t{calculateCompleteUncompleteAllTasks(\r\n\t\t\t\t\t\t\t\t\t\t\t\titem[1].task\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{showDetails && visibleData && (\r\n\t\t\t\t<DetailsModal\r\n\t\t\t\t\tdetails={findElementByID(visibleData, id)}\r\n\t\t\t\t\tonClose={() => setShowDetails(false)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","const BASE_URL = \"https://recruitment.ultimate.systems/to-do-lists\";\r\n\r\nexport function getLists(token) {\r\n\tlet bearer = \"Bearer \" + token;\r\n\tconst request = fetch(\"https://recruitment.ultimate.systems/to-do-lists\", {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\taccept: \"application/json\",\r\n\t\t\tAuthorization: bearer,\r\n\t\t},\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.error(err);\r\n\t\t});\r\n\treturn request;\r\n}\r\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n    BrowserRouter as Router, Redirect, Route, Switch, useHistory\n} from \"react-router-dom\";\nimport \"./index.css\";\nimport Login from \"./login\";\nimport Register from \"./register\";\nimport TodoListAll from \"./todoListAll\";\n\nfunction App() {\n\tconst [jwtToken, setJwtToken] = useState(\"\");\n\tconst history = useHistory();\n\treturn (\n\t\t<React.StrictMode>\n\t\t\t<Switch>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\trender={() => <Login setJwtToken={setJwtToken} />}\n\t\t\t\t/>\n\t\t\t\t<Route exact path=\"/register\" component={Register} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/todoListAll\"\n\t\t\t\t\t// component={TodoListAll}\n\t\t\t\t\t// token={jwtToken}\n\t\t\t\t\trender={(routerProps) => (\n\t\t\t\t\t\t<TodoListAll\n\t\t\t\t\t\t\ttoken={jwtToken}\n\t\t\t\t\t\t\tonLogout={() => {\n\t\t\t\t\t\t\t\tconst token = jwtToken;\n\t\t\t\t\t\t\t\tsetJwtToken(undefined);\n\t\t\t\t\t\t\t\thistory.push(\"./login\");\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<Redirect to=\"login\" />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</React.StrictMode>\n\t);\n}\n\nReactDOM.render(\n\t<Router>\n\t\t<App />\n\t</Router>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}