(this["webpackJsonpusc-react"]=this["webpackJsonpusc-react"]||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),s=n.n(a),i=n(22),r=n.n(i),o=(n(28),n(7)),l=n(15),j=(n(30),n(4)),u=n(11),d=n(1);function b(e){e.onLogin;var t=e.setJwtToken,n=!1,c=Object(j.g)(),a=Object(l.a)({defaultValues:{identifier:"testUser55",password:"testUser15"}}),s=a.register,i=a.handleSubmit;return Object(d.jsxs)("div",{children:[" ",Object(d.jsx)("div",{className:"todoList",children:"ToDo-List"}),Object(d.jsxs)("div",{className:"loginRegisterRectangle",children:[Object(d.jsx)("div",{className:"titleAccount",children:"Login"}),Object(d.jsxs)("div",{className:"gridEmailPassword",children:[Object(d.jsxs)("form",{onSubmit:i((function(e){(function(e){return fetch("".concat("https://recruitment.ultimate.systems","/auth/local"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})(e).then((function(e){if(void 0===e.jwt)return n=!1,alert("Login or password incorrect - try again"),n;n=!0;var a=e.jwt;return t(a),c.push("/todoListAll"),n}))})),children:[Object(d.jsx)("input",Object(o.a)(Object(o.a)({},s("identifier",{required:!0,maxLength:20})),{},{placeholder:"Email or Username"})),Object(d.jsx)("input",Object(o.a)(Object(o.a)({},s("password",{required:!0})),{},{placeholder:"Password",type:"password"})),Object(d.jsx)("div",{children:Object(d.jsx)("input",{className:"submit",type:"submit",value:"Login"})})]}),Object(d.jsx)("div",{className:"or",children:"or"}),Object(d.jsx)(u.b,{to:"/register",children:Object(d.jsx)("div",{id:"createAccount",children:"create an account"})})]})]})]})}function O(){var e=Object(l.a)(),t=e.register,n=e.handleSubmit;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"todoList",children:"ToDo-List"}),Object(d.jsxs)("div",{className:"loginRegisterRectangle",children:[Object(d.jsx)(u.b,{to:"/login",children:Object(d.jsx)("div",{className:"goBack",children:"<-"})}),Object(d.jsx)("div",{className:"titleAccount",children:"Create new account"}),Object(d.jsxs)("form",{onSubmit:n((function(e){return console.log(e)})),children:[Object(d.jsx)("input",Object(o.a)(Object(o.a)({},t("username",{required:!0,maxLength:20,placeholder:"test"})),{},{placeholder:"Username"})),Object(d.jsx)("input",Object(o.a)(Object(o.a)({},t("email",{required:!0,maxLength:20,placeholder:"test"})),{},{placeholder:"Email"})),Object(d.jsx)("input",Object(o.a)(Object(o.a)({},t("password",{required:!0,pattern:/^[A-Za-z]+$/i})),{},{placeholder:"Password",type:"password"})),Object(d.jsx)("input",Object(o.a)(Object(o.a)({},t("passwordRepeat",{required:!0,pattern:/^[A-Za-z]+$/i})),{},{placeholder:"Repeat password",type:"password"})),Object(d.jsx)("div",{children:Object(d.jsx)("input",{className:"submit",type:"submit",value:"Create"})})]})]})]})}n(40);var h=n(6);n(41);function m(e){var t=e.listDetails,n=e.onNameChange,s=Object(a.useState)(t.isDone),i=Object(c.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)(t.name),j=Object(c.a)(l,2),u=j[0],b=j[1];return Object(d.jsxs)("div",{className:"oneTaskGrid",children:[Object(d.jsx)("input",{type:"checkbox",className:"checkboxOneTask",checked:r,onClick:function(){t[0].isDone=!t.isDone,o(t.name)}}),Object(d.jsx)("input",{type:"text",placeholder:"Task Name",className:"taskName",value:u,title:t.name,onChange:function(e){var c=e.target.value;t.name=c,n&&n(c),b(c)}})]})}function x(e){var t,n,s=e.details,i=e.onConfirmSave,r=Object(a.useState)(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.name),o=Object(c.a)(r,2),l=o[0],j=o[1],u=Object(a.useState)((n=s.task,JSON.parse(JSON.stringify(n)))),b=Object(c.a)(u,2),O=b[0],x=b[1];return s?Object(d.jsxs)("div",{className:"overlayWindow",children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",className:"newTaskInputBox",placeholder:"list name",value:l,onChange:function(e){j(e.target.value),s.name=l}})}),Object(d.jsx)("div",{className:"horizontalLine"}),Object(d.jsx)("div",{className:"allTasks",children:O.map((function(e){return Object(d.jsx)(m,{listDetails:e,onNameChange:function(t){e.name=t,x(Object(h.a)(O))}})}))}),Object(d.jsxs)("div",{className:"buttonCancelAdd",children:[Object(d.jsx)("button",{className:"cancelSmall",children:"CANCEL"}),Object(d.jsx)("button",{className:"addSmall",children:"ADD"})]}),Object(d.jsxs)("div",{className:"buttonCancelSave",children:[Object(d.jsx)("button",{className:"cancelBottom",onClick:e.onClose,children:"CANCEL"}),Object(d.jsx)("div",{className:"emptySpace"}),Object(d.jsx)("button",{className:"saveBottom",onClick:function(e){return i()},title:JSON.stringify(O,null,2),children:"SAVE"})]})]}):Object(d.jsx)(d.Fragment,{children:"Loading..."})}function p(e,t){return e.find((function(e){return e[1].id==t}))[1]}function f(e){var t=e.token,n=e.onLogout,s=Object(a.useState)([]),i=Object(c.a)(s,2),r=i[0],u=i[1];function b(e){var t=new Date(Date.parse(e)),n=t.toLocaleDateString("pl-PL",{day:"numeric"});n=1!==n.length?n:"0"+n;var c=t.toLocaleDateString("pl-PL",{month:"numeric"});return n+"-"+(c=1!==c.length?c:"0"+c)+"-"+t.toLocaleDateString("pl-PL",{year:"numeric"})}function O(e){var t=e.length,n=e.filter((function(e){return!0===e.isDone})).length;return"Completed: "+n+" Uncompleted: "+(t-n)+" All: "+t}var h=Object(l.a)(),m=h.register,f=(h.handleSubmit,Object(a.useState)("")),v=Object(c.a)(f,2),g=v[0],N=v[1],S=Object(a.useState)(0),L=Object(c.a)(S,2),C=L[0],w=L[1],k=Object(a.useState)(""),y=Object(c.a)(k,2),A=(y[0],y[1],Object(a.useState)(!1)),D=Object(c.a)(A,2),T=D[0],E=D[1],J=Object(a.useState)(""),P=Object(c.a)(J,2),B=P[0],q=P[1],R=Object(j.g)();Object(a.useEffect)((function(){(function(e){return fetch("https://recruitment.ultimate.systems/to-do-lists",{method:"GET",headers:{accept:"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()})).catch((function(e){console.error(e)}))})(t).then((function(e){u(e)}))}),[]),Object(a.useEffect)((function(){""===t&&R.push("login")}),[t]);Object(a.useCallback)((function(){return new Promise((function(e){return[{},{}]}))}),[]);var U=Object(a.useState)([]),z=Object(c.a)(U,2),I=z[0],Z=z[1];return Object(a.useEffect)((function(){var e=Object.entries(r).filter((function(e){return e[1].name.toLowerCase().indexOf(g.toLowerCase())>=0})).sort((function(e,t){var n=e[1].name.toString(),c=t[1].name.toString();return n===c||0===C?0:(n>c?1:-1)*C}));Z(e)}),[r,g,C]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"todoList",children:"ToDo-List"}),Object(d.jsx)("a",{href:"#",className:"logout",onClick:function(){n()},children:"logout"}),Object(d.jsxs)("div",{className:"maxWidthList",children:[Object(d.jsx)("input",Object(o.a)(Object(o.a)({},m("search",{})),{},{placeholder:"Search...",type:"text",className:"searchInput",onChange:function(e){return N(e.target.value)}})),Object(d.jsxs)("select",{id:"sortBy",className:"dropdown",onChange:function(e){return w(e.target.value)},children:[Object(d.jsx)("option",{value:0,children:"Unordered"}),Object(d.jsx)("option",{value:1,children:"A->Z alphabetical"}),Object(d.jsx)("option",{value:-1,children:"Z->A"})]}),Object(d.jsx)("div",{className:"text-white mt-44 ",children:Object(d.jsx)("ul",{children:I.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("li",{onClick:function(){E(!0),q(e[1].id)},children:Object(d.jsxs)("div",{className:"gridInside",children:[Object(d.jsx)("div",{className:"listName",children:e[1].name}),Object(d.jsxs)("div",{className:"createdAt",children:["Created at:"," ",b(e[1].published_at)]}),Object(d.jsx)("div",{className:"counter",children:O(e[1].task)})]})})})}))})})]}),T&&I&&Object(d.jsx)(x,{details:p(I,B),onClose:function(){return E(!1)}})]})}function v(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(j.g)();return Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{exact:!0,path:"/login",render:function(){return Object(d.jsx)(b,{setJwtToken:i})}}),Object(d.jsx)(j.b,{exact:!0,path:"/register",component:O}),Object(d.jsx)(j.b,{exact:!0,path:"/todoListAll",render:function(e){return Object(d.jsx)(f,{token:n,onLogout:function(){i(void 0),r.push("./login")}})}}),Object(d.jsx)(j.b,{exact:!0,path:"/",children:Object(d.jsx)(j.a,{to:"login"})})]})})}r.a.render(Object(d.jsx)(u.a,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.cc8b918f.chunk.js.map